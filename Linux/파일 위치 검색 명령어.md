## 파일 위치 검색

리눅스에서 특정 파일의 위치를 검색하는 명령어는 **'find'**

### find 명령어

1. 기능

- 다양한 옵션을 통해 찾고자 하는 파일의 조건을 설정할 뒤 그 조건에 맞는 파일을 검색할 수 있다.



2. 사용법

- find [찾을 디렉토리 경로]  [찾기옵션]



3. 찾을 디렉토리 경로

- /   :  루트에서부터 검색을 한다. 즉 전체를 검색한다.
- .   :  현재 디렉토리를 포함하여 하위 디렉토리까지 검색한다.
- /디렉토리   :  지정된 디렉토리에 검색



4. 옵션

- -name [파일이름]   :  파일이름과 일치
  파일명 또는 확장자를 기준으로 검색할 수 있다.

- -perm [권한]  :  권한과  : 일치하는 파일
  - ex) find / -user level2 -perm -4000
       4000의 의미는 -(최소한), 4(SetUID)가 걸려있는 000(모든파일)을 의미한다.

- -user [유저]  :  유저와 일치

- -group [그룹] :  그룹과 일치하는 파일

- -empty : 비어있는 파일이나 디렉토리를 검색
  - ex)find . -empty
       현재 디렉토리 이하에서 비어있는 파일과 디렉토리를 검색.

- -size [+파일크기/-파일크기/파일크기][bckw중 택1] : 파일크기와 일치하는 파일
<pre>
  b : 블록단위 512kb
  c : byte
  k : kbyte
  w : 2byte 워드
  아무런 단위를 붙이지 않은 경우 : 디폴트 값 b

  파일크기에 +1024k 이렇게 +를 붙이는 경우에는 크기가 1024kbyte 이상인 것을 찾고, -는 그 이하, +,-를 붙이지 않는 경우에는 그 크기의 파일을 찾는다.

  ex)find / -size 1024k
       시스템 전체에서 파일크기가 1024kbyte인 파일을 검색한다.
</pre>
- -type [파일타입] : 파일의 타입을 지정하여 검색한다.
<pre>
  b : 블록 특수 파일(block device)
  c : 캐릭터 특수 파일 (character deice)
  d : 디렉토리(directory)
  f : 일반파일(file)
  l : 심볼릭 링크(link)
  p : 파이프 (pipe)
  s : 소켓 (socket)
</pre>
- -print : 찾은 파일들을 표준출력(stdout)으로 출력한다. 기본으로 설정되어 있다.

- -nouser : 소유자가 없는 파일을 검색(/etc/passwd 파일에 없는 사용자의 소유자로 되어 있는 파일을 검색)

- -nogroup : /etc/groups파일에 없는 그룹의 소유인 파일을 검색한다.

- -fprint [임의파일명] : 검색된 파일을 `임의파일명'으로 출력한다.(`임의파일명'이 존재 하지 않을 경우에는 새로 생성되고, 존재할 경우에는 기존의 파일은 없어짐)

- -exec command {} \; : 파일이 검색되었을 경우, 검색된 파일들에 대해 특정 명령을 수행 할 때 사용한다.
```diff
  {} : 검색된 파일들을 의미한다. 여러개의 파일이 검색되면 하나씩 치환되면서 해당명령이 실행되는 것이다.  
  ; : 검색된 결과가 여러개인 경우 하나의 행에 여러 명령을 사용하기 위함이다.
  \ : ;이 특수 문자이기 때문에 문자로 ;라는 것을 알려 주기 위함이다.

  ex) find . -name kkk* -exec rm {} \;  //kkk로 시작하는 파일을 검색하여 삭제(rm)함.
```
- -ok : -exec와 동일한 작업을 한다. 다른 점은, 명령을 실행할 때마다 실행 의사를 물어본다.

- -newer file1 file2
  `file1' 보다는 이후에 `file2' 보다는 이전에 생성되거나 변형된 파일들을 찾을 경우에 사용한다.

- -cnewer 파일명 : '파일명' 부분에 적어준 파일보다 더 최근에 수정된 파일들을 찾아준다.

- -atime +n/-n/n : 최근 n일 이전에 액세스된 파일을 찾아준다.(accessed time)
```diff
   +n : n일 또는 n일 이전에 액세스된 파일
   -n : 오늘 부터 n일 전 사이에 액세스 된 파일
    n : 정확히 n일 전에 액세스된 파일
```
- -ctime +n/-n/n : ctime은 파일의 퍼미션을 마지막으로 변경시킨 날짜를 의미한다. (changed time)
```diff
   +n : n일 또는 n일 이전에 퍼미션이 변경된 파일
   -n : 오늘 부터 n일 전 사이에 퍼미션이 변경된 파일
    n :  정확히 n일 전에 퍼미션이 변경된 파일
```
- -mtime +n/-n/n : mtime은 파일내의 data를 마지막으로 변경한 날짜를 의미한다.(modified time)
```diff
    +n : n일 또는 n일 이전에 수정된 파일
    -n : 오늘 부터 n일 전 사이에 수정된 파일
      n : 정확히 n일 전에 수정된 파일
```
- -mount 현재의 파일 시스템과 동일한 타입의 파일 시스템에서만 검색을 할 경우에 사용한다.

- -maxdepth n : 0이 아닌 정수값으로 경로 깊이를 지정하여 검색을 할 경우에 사용한다.
  예를들어, '-maxdepth 1'은 시작위치로 지정한 디렉토리만 검색하고 하위 디렉토리는 찾지 않는다.

- -mindepth n : 0이 아닌 정수값으로 지정된 숫자만큼의 깊이에서부터 그 하위 디렉토리를 검색한다. (GNU find 버전)

- -follow : 심볼릭 링크된 디렉토리도 검색을 할 경우에 사용한다.

- -regex : 정규표현식(regular expression)을 이용하여 파일들을 찾을 경우에 사용한다. `-iregex'는 대소문자를 구별하지 않을 경우에 사용한다. (GNU find 버전)
action은 test에서의 조건과 일치하는 파일들에 대해 수행할 작업을 명시하는 것으로 다음과 같은 방법들이 있다.

- -ls : `ls -dils' 형식으로 찾은 파일들의 정보를 출력할때 사용한다.

- -fls [임의파일명] : `ls'와 동일하게 동작하며 결과를 [임의파일명]로 출력한다.
